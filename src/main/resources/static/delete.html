<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Delete Confirmation</title>
</head>
<body>

</body>
</html>



<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Create Data</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>

<body class="d-flex justify-content-center" style="background-image: linear-gradient(to right, #7f53ac 0, #657ced 100%); color: black;">

<div class="container p-5 m-5 d-flex flex-column align-items-center" style="background: rgba(255, 255, 255, 0.5);
    -webkit-backdrop-filter: blur(10px); backdrop-filter: blur(8px); border: 1px solid rgba(255, 255, 255, 0.25); border-radius: 20px; box-shadow: 5px 20px 50px #000;">
    <h1 class="fs-1 p-3 m-3 fw-bold text-center">Delete Confirmation</h1>
    <p class="">Are you sure you want to delete this item?</p>

    <div class="container d-flex justify-content-center gap-3">
        <!-- Assuming you have a hidden input field to store the documentId -->
        <input type="hidden" id="documentId" name="documentId" class="form-control w-100" readonly><br>
        <button class="btn btn-outline-danger btn-sm fw-bold rounded-3" onclick="confirmDelete()">Yes</button>
        <button class="btn btn-outline-success btn-sm fw-bold rounded-3" onclick="cancelDelete()">No</button>
    </div>
</div>


<script>
    function populateDocumentId() {
        var urlParams = new URLSearchParams(window.location.search);
        var documentId = urlParams.get('documentId');
        document.getElementById("documentId").value = documentId;
    }

    function confirmDelete() {
        var xhr = new XMLHttpRequest();
        var documentId = document.getElementById("documentId").value;
        xhr.open("DELETE", "/documents/" + documentId, true); // Corrected URL construction
        xhr.setRequestHeader("Content-Type", "application/json");
        xhr.onreadystatechange = function () {
            if (xhr.readyState === XMLHttpRequest.DONE) {
                if (xhr.status === 200) {
                    window.location.href = "/dashboard";
                } else {
                    document.body.innerHTML = xhr.responseText;
                }
            }
        };
        xhr.send();
    }

    function cancelDelete() {
        window.location.href = "/dashboard";
    }

    window.onload = populateDocumentId;
</script>
<!--Bootstrap JS and Popper-->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
        integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
        crossorigin="anonymous"></script>
</body>

</html>